import{_ as C,c as a,a as r,s as S,b as e,q as d,k as j,z as u,F as f,j as v,t as l,v as m,r as b,o as I,p,I as B,g as t}from"./index-DXsdJseN.js";const T={setup(){const y=B(),n=b({user_id:"",bulan:"",tahun:"",gaji:"",status_id:"",setoran_bpjs_kes:"",tunjangan_bpjs_kes:"",setoran_bpjs_tk:"",tunjangan_bpjs_tk:"",tunjangan_pensiun:"",tunjangan_komunikasi:"",tunjangan_pph_21:"",pot_lainnya:"",lembur:""}),k=b({}),o=b([]),g=b([]),P=b([{id:"1",bulan:"Januari"},{id:"2",bulan:"Februari"},{id:"3",bulan:"Maret"},{id:"4",bulan:"April"},{id:"5",bulan:"Mei"},{id:"6",bulan:"Juni"},{id:"7",bulan:"Juli"},{id:"8",bulan:"Agustus"},{id:"9",bulan:"September"},{id:"10",bulan:"Oktober"},{id:"11",bulan:"November"},{id:"12",bulan:"Desember"}]),s=new Date().getFullYear(),V=b([]);for(let i=s;i>=s-10;i--)V.value.push(i);const w=async()=>{try{const[i,_]=await Promise.all([p.get("/api/users"),p.get("/api/statuses")]);o.value=i.data,g.value=_.data}catch(i){console.error("Error fetching data:",i)}},x=i=>{let _=n.value[i].replace(/\D/g,"");_.length>2&&(_=_.replace(/(\d)(?=(\d{2})+$)/g,"$1,")),n.value[i]=_},U=async()=>{try{const i=await p.post("/api/payroll",n.value);y.push("/payroll")}catch(i){i.response&&i.response.status===422?k.value=i.response.data.errors:console.error("Error submitting form:",i)}};return I(()=>{w()}),{form:n,errors:k,users:o,statuses:g,months:P,years:V,formatCurrency:x,submitForm:U}}},F={class:"container-fluid"},J={class:"card col-lg-12"},D={class:"mt-4 p-4"},M={class:"form-row"},K={class:"col"},A=["value"],E={key:0,class:"invalid-feedback"},L={class:"col"},N=["value"],R={key:0,class:"invalid-feedback"},z={class:"form-row"},Y={class:"col"},q=["value"],G={key:0,class:"invalid-feedback"},H={class:"col"},O={key:0,class:"invalid-feedback"},Q={class:"form-row"},W={class:"col"},X=["value"],Z={key:0,class:"invalid-feedback"},c={class:"form-row"},h={class:"col"},$={key:0,class:"invalid-feedback"},nn={class:"col"},on={key:0,class:"invalid-feedback"},rn={class:"form-row"},sn={class:"col"},an={key:0,class:"invalid-feedback"},tn={class:"col"},ln={key:0,class:"invalid-feedback"},en={class:"form-row"},dn={class:"col"},un={key:0,class:"invalid-feedback"},mn={class:"col"},_n={key:0,class:"invalid-feedback"},bn={class:"form-row"},jn={class:"col"},fn={key:0,class:"invalid-feedback"},vn={class:"col"},kn={key:0,class:"invalid-feedback"},gn={class:"form-row"},pn={class:"col"},yn={key:0,class:"invalid-feedback"};function Pn(y,n,k,o,g,P){return t(),a("div",F,[r("div",J,[r("div",D,[r("form",{onSubmit:n[24]||(n[24]=S((...s)=>o.submitForm&&o.submitForm(...s),["prevent"]))},[r("div",M,[r("div",K,[n[26]||(n[26]=r("label",{for:"user_id"},"Pegawai",-1)),e(r("select",{"onUpdate:modelValue":n[0]||(n[0]=s=>o.form.user_id=s),id:"user_id",class:u(["form-control",{"is-invalid":o.errors.user_id}])},[n[25]||(n[25]=r("option",{value:""},"Pilih Pegawai",-1)),(t(!0),a(f,null,v(o.users,s=>(t(),a("option",{value:s.id,key:s.id},l(s.name),9,A))),128))],2),[[j,o.form.user_id]]),o.errors.user_id?(t(),a("div",E,l(o.errors.user_id[0]),1)):d("",!0)]),r("div",L,[n[28]||(n[28]=r("label",{for:"bulan"},"Bulan",-1)),e(r("select",{"onUpdate:modelValue":n[1]||(n[1]=s=>o.form.bulan=s),id:"bulan",class:u(["form-control",{"is-invalid":o.errors.bulan}])},[n[27]||(n[27]=r("option",{value:""},"Pilih Bulan",-1)),(t(!0),a(f,null,v(o.months,s=>(t(),a("option",{value:s.id,key:s.id},l(s.bulan),9,N))),128))],2),[[j,o.form.bulan]]),o.errors.bulan?(t(),a("div",R,l(o.errors.bulan[0]),1)):d("",!0)])]),n[43]||(n[43]=r("br",null,null,-1)),r("div",z,[r("div",Y,[n[30]||(n[30]=r("label",{for:"tahun"},"Tahun",-1)),e(r("select",{"onUpdate:modelValue":n[2]||(n[2]=s=>o.form.tahun=s),id:"tahun",class:u(["form-control",{"is-invalid":o.errors.tahun}])},[n[29]||(n[29]=r("option",{value:""},"Pilih Tahun",-1)),(t(!0),a(f,null,v(o.years,s=>(t(),a("option",{value:s,key:s},l(s),9,q))),128))],2),[[j,o.form.tahun]]),o.errors.tahun?(t(),a("div",G,l(o.errors.tahun[0]),1)):d("",!0)]),r("div",H,[n[31]||(n[31]=r("label",{for:"gaji"},"Gaji",-1)),e(r("input",{type:"text","onUpdate:modelValue":n[3]||(n[3]=s=>o.form.gaji=s),class:u(["form-control",{"is-invalid":o.errors.gaji}]),id:"gaji",name:"gaji",onInput:n[4]||(n[4]=s=>o.formatCurrency("gaji"))},null,34),[[m,o.form.gaji]]),o.errors.gaji?(t(),a("div",O,l(o.errors.gaji[0]),1)):d("",!0)])]),n[44]||(n[44]=r("br",null,null,-1)),r("div",Q,[r("div",W,[n[33]||(n[33]=r("label",{for:"status_id"},"Status",-1)),e(r("select",{"onUpdate:modelValue":n[5]||(n[5]=s=>o.form.status_id=s),id:"status_id",class:u(["form-control",{"is-invalid":o.errors.status_id}])},[n[32]||(n[32]=r("option",{value:""},"Pilih Status",-1)),(t(!0),a(f,null,v(o.statuses,s=>(t(),a("option",{value:s.id,key:s.id},l(s.name),9,X))),128))],2),[[j,o.form.status_id]]),o.errors.status_id?(t(),a("div",Z,l(o.errors.status_id[0]),1)):d("",!0)])]),n[45]||(n[45]=r("br",null,null,-1)),r("div",c,[r("div",h,[n[34]||(n[34]=r("label",{for:"setoran_bpjs_kes"},"Setoran BPJS Kesehatan",-1)),e(r("input",{type:"text","onUpdate:modelValue":n[6]||(n[6]=s=>o.form.setoran_bpjs_kes=s),class:u(["form-control",{"is-invalid":o.errors.setoran_bpjs_kes}]),id:"setoran_bpjs_kes",name:"setoran_bpjs_kes",onInput:n[7]||(n[7]=s=>o.formatCurrency("setoran_bpjs_kes"))},null,34),[[m,o.form.setoran_bpjs_kes]]),o.errors.setoran_bpjs_kes?(t(),a("div",$,l(o.errors.setoran_bpjs_kes[0]),1)):d("",!0)]),r("div",nn,[n[35]||(n[35]=r("label",{for:"tunjangan_bpjs_kes"},"Tunjangan BPJS Kesehatan",-1)),e(r("input",{type:"text","onUpdate:modelValue":n[8]||(n[8]=s=>o.form.tunjangan_bpjs_kes=s),class:u(["form-control",{"is-invalid":o.errors.tunjangan_bpjs_kes}]),id:"tunjangan_bpjs_kes",name:"tunjangan_bpjs_kes",onInput:n[9]||(n[9]=s=>o.formatCurrency("tunjangan_bpjs_kes"))},null,34),[[m,o.form.tunjangan_bpjs_kes]]),o.errors.tunjangan_bpjs_kes?(t(),a("div",on,l(o.errors.tunjangan_bpjs_kes[0]),1)):d("",!0)])]),n[46]||(n[46]=r("br",null,null,-1)),r("div",rn,[r("div",sn,[n[36]||(n[36]=r("label",{for:"setoran_bpjs_tk"},"Setoran BPJS Ketengakerjaan",-1)),e(r("input",{type:"text","onUpdate:modelValue":n[10]||(n[10]=s=>o.form.setoran_bpjs_tk=s),class:u(["form-control",{"is-invalid":o.errors.setoran_bpjs_tk}]),id:"setoran_bpjs_tk",name:"setoran_bpjs_tk",onInput:n[11]||(n[11]=s=>o.formatCurrency("setoran_bpjs_tk"))},null,34),[[m,o.form.setoran_bpjs_tk]]),o.errors.setoran_bpjs_tk?(t(),a("div",an,l(o.errors.setoran_bpjs_tk[0]),1)):d("",!0)]),r("div",tn,[n[37]||(n[37]=r("label",{for:"tunjangan_bpjs_tk"},"Tunjangan BPJS Ketengakerjaan",-1)),e(r("input",{type:"text","onUpdate:modelValue":n[12]||(n[12]=s=>o.form.tunjangan_bpjs_tk=s),class:u(["form-control",{"is-invalid":o.errors.tunjangan_bpjs_tk}]),id:"tunjangan_bpjs_tk",name:"tunjangan_bpjs_tk",onInput:n[13]||(n[13]=s=>o.formatCurrency("tunjangan_bpjs_tk"))},null,34),[[m,o.form.tunjangan_bpjs_tk]]),o.errors.tunjangan_bpjs_tk?(t(),a("div",ln,l(o.errors.tunjangan_bpjs_tk[0]),1)):d("",!0)])]),n[47]||(n[47]=r("br",null,null,-1)),r("div",en,[r("div",dn,[n[38]||(n[38]=r("label",{for:"tunjangan_pensiun"},"Tunjangan Pensiun",-1)),e(r("input",{type:"text","onUpdate:modelValue":n[14]||(n[14]=s=>o.form.tunjangan_pensiun=s),class:u(["form-control",{"is-invalid":o.errors.tunjangan_pensiun}]),id:"tunjangan_pensiun",name:"tunjangan_pensiun",onInput:n[15]||(n[15]=s=>o.formatCurrency("tunjangan_pensiun"))},null,34),[[m,o.form.tunjangan_pensiun]]),o.errors.tunjangan_pensiun?(t(),a("div",un,l(o.errors.tunjangan_pensiun[0]),1)):d("",!0)]),r("div",mn,[n[39]||(n[39]=r("label",{for:"tunjangan_komunikasi"},"Tunjangan Komunikasi",-1)),e(r("input",{type:"text","onUpdate:modelValue":n[16]||(n[16]=s=>o.form.tunjangan_komunikasi=s),class:u(["form-control",{"is-invalid":o.errors.tunjangan_komunikasi}]),id:"tunjangan_komunikasi",name:"tunjangan_komunikasi",onInput:n[17]||(n[17]=s=>o.formatCurrency("tunjangan_komunikasi"))},null,34),[[m,o.form.tunjangan_komunikasi]]),o.errors.tunjangan_komunikasi?(t(),a("div",_n,l(o.errors.tunjangan_komunikasi[0]),1)):d("",!0)])]),n[48]||(n[48]=r("br",null,null,-1)),r("div",bn,[r("div",jn,[n[40]||(n[40]=r("label",{for:"tunjangan_pph_21"},"Tunjangan PPH 21",-1)),e(r("input",{type:"text","onUpdate:modelValue":n[18]||(n[18]=s=>o.form.tunjangan_pph_21=s),class:u(["form-control",{"is-invalid":o.errors.tunjangan_pph_21}]),id:"tunjangan_pph_21",name:"tunjangan_pph_21",onInput:n[19]||(n[19]=s=>o.formatCurrency("tunjangan_pph_21"))},null,34),[[m,o.form.tunjangan_pph_21]]),o.errors.tunjangan_pph_21?(t(),a("div",fn,l(o.errors.tunjangan_pph_21[0]),1)):d("",!0)]),r("div",vn,[n[41]||(n[41]=r("label",{for:"pot_lainnya"},"Potongan Lainnya",-1)),e(r("input",{type:"text","onUpdate:modelValue":n[20]||(n[20]=s=>o.form.pot_lainnya=s),class:u(["form-control",{"is-invalid":o.errors.pot_lainnya}]),id:"pot_lainnya",name:"pot_lainnya",onInput:n[21]||(n[21]=s=>o.formatCurrency("pot_lainnya"))},null,34),[[m,o.form.pot_lainnya]]),o.errors.pot_lainnya?(t(),a("div",kn,l(o.errors.pot_lainnya[0]),1)):d("",!0)])]),n[49]||(n[49]=r("br",null,null,-1)),r("div",gn,[r("div",pn,[n[42]||(n[42]=r("label",{for:"lembur"},"Lembur",-1)),e(r("input",{type:"text","onUpdate:modelValue":n[22]||(n[22]=s=>o.form.lembur=s),class:u(["form-control",{"is-invalid":o.errors.lembur}]),id:"lembur",name:"lembur",onInput:n[23]||(n[23]=s=>o.formatCurrency("lembur"))},null,34),[[m,o.form.lembur]]),o.errors.lembur?(t(),a("div",yn,l(o.errors.lembur[0]),1)):d("",!0)])]),n[50]||(n[50]=r("br",null,null,-1)),n[51]||(n[51]=r("button",{type:"submit",class:"btn btn-primary float-right"},"Submit",-1))],32),n[52]||(n[52]=r("br",null,null,-1))])])])}const wn=C(T,[["render",Pn]]);export{wn as default};
