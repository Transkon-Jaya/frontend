import{E as P,a as h}from"./jspdf.plugin.autotable-BF-wBuD0.js";import{_ as T,c as i,a as o,F as d,j as c,b as v,z as m,k,Q as D,i as f,g as u,d as y,f as N,h as L,t as l}from"./index-CFZ6i4hX.js";const C={name:"InvoicePage",data(){return{tabs:[{label:"Dashboard",value:"dashboard",route:"/fleet/fleet-main-dashboard"},{label:"Timesheet",value:"timesheet",route:"/fleet/timesheet"},{label:"Invoice",value:"invoice",route:"/fleet/invoice"},{label:"Contract",route:"/fleet/contract"},{label:"Maintenance",value:"maintenance",route:"/fleet/maintenance"},{label:"Notification",value:"notification",route:"/fleet/notification"},{label:"Vehicle List",value:"vehicle-list",route:"/fleet/list-unit"}],filter:"all",selectedGroup:"",currentPage:1,itemsPerPage:10,currentMonth:"2024.05",groups:["PT ABC","PTA MAXVAL1","CV MDD"],invoices:[{id:1,tkNo:"TK 5083",plateNo:"DA 8043 WA",group:"PT ABC",noLambung:"LV74",model:"Triton HDX",invoiceDate:"2025.07.01",daysPresent:28,breakdownDays:2,amount:84e5},{id:2,tkNo:"TK 5082",plateNo:"DA 8047 WA",group:"PT ABC",noLambung:"LV73",model:"Triton HDX",invoiceDate:"2025.07.01",daysPresent:30,breakdownDays:0,amount:9e6},{id:3,tkNo:"TK 5078",plateNo:"DA 8049 WA",group:"PT ABC",noLambung:"LV72",model:"Triton GLS",invoiceDate:"2025.07.01",daysPresent:29,breakdownDays:1,amount:87e5},{id:4,tkNo:"TK 6036",plateNo:"KT 8983 ZE",group:"PT ABC",noLambung:"LV71",model:"Triton GLS",invoiceDate:"2025.07.01",daysPresent:25,breakdownDays:5,amount:75e5},{id:5,tkNo:"TK 6037",plateNo:"KT 8984 ZE",group:"PTA MAXVAL1",noLambung:"LV70",model:"Triton GLS",invoiceDate:"2025.07.01",daysPresent:26,breakdownDays:4,amount:78e5},{id:6,tkNo:"TK 6038",plateNo:"KT 8985 ZE",group:"PTA MAXVAL1",noLambung:"LV69",model:"Triton GLS",invoiceDate:"2025.07.01",daysPresent:27,breakdownDays:3,amount:81e5},{id:7,tkNo:"TK 6039",plateNo:"KT 8986 ZE",group:"CV MDD",noLambung:"LV68",model:"Triton GLS",invoiceDate:"2025.07.01",daysPresent:28,breakdownDays:2,amount:84e5},{id:8,tkNo:"TK 6040",plateNo:"KT 8987 ZE",group:"CV MDD",noLambung:"LV67",model:"Triton GLS",invoiceDate:"2025.07.01",daysPresent:29,breakdownDays:1,amount:87e5},{id:9,tkNo:"TK 6041",plateNo:"KT 8988 ZE",group:"CV MDD",noLambung:"LV66",model:"Triton GLS",invoiceDate:"2025.07.01",daysPresent:30,breakdownDays:0,amount:9e6},{id:10,tkNo:"TK 6042",plateNo:"KT 8989 ZE",group:"PT ABC",noLambung:"LV65",model:"Triton GLS",invoiceDate:"2025.07.01",daysPresent:25,breakdownDays:5,amount:75e5},{id:11,tkNo:"TK 6043",plateNo:"KT 8990 ZE",group:"PT ABC",noLambung:"LV64",model:"Triton GLS",invoiceDate:"2025.07.01",daysPresent:26,breakdownDays:4,amount:78e5}]}},computed:{filteredInvoices(){return this.filter==="group"&&this.selectedGroup?this.invoices.filter(n=>n.group===this.selectedGroup):this.invoices},totalPages(){return Math.ceil(this.filteredInvoices.length/this.itemsPerPage)},paginatedInvoices(){const n=(this.currentPage-1)*this.itemsPerPage;return this.filteredInvoices.slice(n,n+this.itemsPerPage)}},methods:{formatCurrency(n){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(n).replace(/\D00(?=\D*$)/,"")},downloadInvoice(n){const e=new P,s=e.internal.pageSize.getWidth();e.addImage(D,"PNG",15,10,40,15),e.setFontSize(12),e.text("PT TRANSKON JAYA",s/2,15,{align:"center"}),e.setFontSize(8),e.text("Alamat: Jl. Soekarno Hatta RT.08 RW.07 No.13, Banjarmasin",15,30),e.text("NPWP: 01.152.484.1-753.000",15,35),e.text("Telp: 0511-7456282",15,40),e.setFontSize(10),e.text("INVOICE",s-30,20),e.setFontSize(8),e.text(`Invoice No: ${n.tkNo}`,s-60,30),e.text(`Date: ${n.invoiceDate}`,s-60,35),e.text(`Customer ID: ${n.group}`,s-60,40),e.setFontSize(9),e.text("Attention: Bpk Edward",15,50),e.setFontSize(8),e.text(n.group,15,55),e.text("Jl. Trikora KM 4, RT. 051 RW. 005, Gunung Manggis, Landasan Ulin Kota Banjarbaru",15,60);const r=n.amount*.11,g=n.amount+r;h(e,{startY:70,head:[["Description","Unit No.","Amount","Tax"]],body:[[`Rental light vehicle: ${n.model}
No. Lambung: ${n.noLambung}
Periode sewa: ${n.daysPresent} hari
Breakdown: ${n.breakdownDays} hari`,n.noLambung,this.formatCurrency(n.amount),`(${this.formatCurrency(r)})`]],styles:{fontSize:8},headStyles:{fillColor:[230,230,230]}});const t=e.lastAutoTable.finalY+10;e.setFontSize(8),e.text("Bank Account: PT Transkon Jaya",15,t),e.text("Bank: BCA – Cabang Sudirman, Balikpapan",15,t+5),e.text("Account No.: 0123456789",15,t+10),e.text("SWIFT CODE: CENAIDJA",15,t+15),e.setFontSize(10),e.text(`Sub Total: ${this.formatCurrency(n.amount)}`,s-80,t),e.text(`PPN (11%): ${this.formatCurrency(r)}`,s-80,t+5),e.text(`Total: ${this.formatCurrency(g)}`,s-80,t+10),e.setFontSize(8),e.text("Hormat Kami,",s-60,t+25),e.text("PT. Transkon Jaya",s-60,t+30),e.text("(Stempel dan Tanda Tangan)",s-60,t+50),e.save(`Invoice_${n.tkNo}.pdf`)},prevPage(){this.currentPage>1&&this.currentPage--},nextPage(){this.currentPage<this.totalPages&&this.currentPage++}},watch:{filter(){this.currentPage=1},selectedGroup(){this.currentPage=1}}},A={class:"nav nav-tabs"},w={class:"container-global"},S={class:"invoice-header"},x={class:"invoice-controls"},_={class:"filter-group"},I=["disabled"],K=["value"],V={class:"table-responsive"},G={class:"invoice-table"},B=["onClick"],M={class:"invoice-footer"},E={class:"pagination-container"},z={class:"pagination"},F=["disabled"],W=["onClick"],Z=["disabled"];function R(n,e,s,b,a,r){const g=f("router-link");return u(),i(d,null,[o("ul",A,[(u(!0),i(d,null,c(a.tabs,t=>(u(),i("li",{class:"nav-item",key:t.value||t.route},[y(g,{class:m(["nav-link",{active:n.$route.path===t.route}]),to:t.route},{default:N(()=>[L(l(t.label),1)]),_:2},1032,["class","to"])]))),128))]),o("div",w,[o("div",S,[e[6]||(e[6]=o("h1",null,"Invoice",-1)),o("div",x,[o("div",_,[o("button",{class:m(["btn-filter",{active:a.filter==="all"}]),onClick:e[0]||(e[0]=t=>{a.filter="all",a.selectedGroup=""})},"All",2),o("button",{class:m(["btn-filter",{active:a.filter==="group"}]),onClick:e[1]||(e[1]=t=>a.filter="group")},"Group",2),v(o("select",{class:"form-select","onUpdate:modelValue":e[2]||(e[2]=t=>a.selectedGroup=t),disabled:a.filter!=="group"},[e[5]||(e[5]=o("option",{value:""},"Select Group",-1)),(u(!0),i(d,null,c(a.groups,t=>(u(),i("option",{key:t,value:t},l(t),9,K))),128))],8,I),[[k,a.selectedGroup]])])])]),o("div",V,[o("table",G,[e[8]||(e[8]=o("thead",null,[o("tr",null,[o("th",{rowspan:"2"},"No"),o("th",{rowspan:"2"},"TK No"),o("th",{rowspan:"2"},"Customer"),o("th",{rowspan:"2"},"No Lambung"),o("th",{rowspan:"2"},"Merk / Model"),o("th",{rowspan:"2"},"Date"),o("th",{rowspan:"2"},"Day"),o("th",{rowspan:"2"},"BD"),o("th",null,"Invoice"),o("th",null,"Download")])],-1)),o("tbody",null,[(u(!0),i(d,null,c(r.paginatedInvoices,(t,p)=>(u(),i("tr",{key:t.id},[o("td",null,l((a.currentPage-1)*a.itemsPerPage+p+1),1),o("td",null,l(t.tkNo),1),o("td",null,l(t.group),1),o("td",null,l(t.noLambung),1),o("td",null,l(t.model),1),o("td",null,l(t.invoiceDate),1),o("td",null,l(t.daysPresent)+" day",1),o("td",null,l(t.breakdownDays)+" day",1),o("td",null,l(r.formatCurrency(t.amount)),1),o("td",null,[o("button",{class:"btn-download-item",onClick:H=>r.downloadInvoice(t)},e[7]||(e[7]=[o("i",{class:"download-icon"},"↓",-1)]),8,B)])]))),128))])])]),o("div",M,[o("div",E,[o("div",z,[o("button",{class:"page-nav",onClick:e[3]||(e[3]=(...t)=>r.prevPage&&r.prevPage(...t)),disabled:a.currentPage===1},"◀",8,F),(u(!0),i(d,null,c(r.totalPages,t=>(u(),i("span",{key:t,class:m([{active:a.currentPage===t},"page-number"]),onClick:p=>a.currentPage=t},l(t),11,W))),128)),o("button",{class:"page-nav",onClick:e[4]||(e[4]=(...t)=>r.nextPage&&r.nextPage(...t)),disabled:a.currentPage===r.totalPages},"▶",8,Z)])])])])],64)}const Y=T(C,[["render",R],["__scopeId","data-v-6450c469"]]);export{Y as default};
