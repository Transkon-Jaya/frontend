import{_ as dl,u as Ve,n as ml,r as n,o as ne,A as h,c as A,q as c,a as t,h as q,t as ue,F as Ge,j as vl,d as x,b as U,v as F,y as D,K as $,f as ie,V as de,p as X,B as K,g as m,z as cl}from"./index-B_uv-FNL.js";import{s as R}from"./vue-multiselect-CtpYavXI.js";import{E as bl}from"./exceljs.min-B07Ji2Oa.js";import{_ as Ee}from"./BigTable-BLUIE_vN.js";import{C as _e}from"./Charts-CSQba05U.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./vue-good-table.esm-AjkBWcT-.js";/* empty css                            */import"./xlsx-D1NZSDnX.js";import"./logger-DsocdAuK.js";/* empty css                                                 */import"./chart-BSyum5xv.js";const pl={key:0,class:"container-global mb-4"},gl={class:"d-flex justify-content-between align-items-center mb-2 mt-auto"},fl={class:"text-end"},_l={class:"row text-center mb-2 mt-4"},hl={class:"col mb-4"},wl={class:"card border-success"},Cl={class:"card-body"},yl={class:"text-success"},kl={class:"nav nav-tabs"},Dl=["onClick"],Sl={key:1,class:"card mb-4"},Al={key:2,class:"card mb-4"},xl={class:"p-3 border-bottom bg-light"},Il={class:"row align-items-end"},$l={class:"col-md-3"},Rl={class:"col-md-3"},Ll={class:"alert alert-info mb-0"},Ol={key:3,class:"row g-4 mb-4"},Tl={class:"row align-items-end mb-4"},Ul={class:"col-md-2"},Fl={class:"col-md-2"},Vl={class:"border rounded p-1 bg-white"},Gl={class:"col-md-3"},El={class:"col-md-3"},Hl={class:"col-md-1 text-end"},Ml={class:"col-md-12"},Nl={class:"card h-100"},zl={class:"col-md-12"},Bl={class:"card h-100"},Pl={key:4,class:"col-md-12"},Kl={key:0,class:"col-md-12"},Wl={class:"row align-items-end mb-4"},jl={class:"col-md-3"},Jl={class:"border rounded p-2 bg-white"},Yl={class:"col-md-3"},Ql={class:"border rounded p-2 bg-white"},ql={class:"col-md-3"},Xl={class:"col-md-2"},Zl={class:"col-md-1 text-end"},ea={key:5,class:"col-md-12"},la={class:"row align-items-end mb-4"},aa={class:"col-md-3 mb-2"},ta={class:"col-md-3 mb-2"},oa={class:"border rounded p-2 bg-white"},sa={class:"col-md-3 mb-2"},ra={class:"border rounded p-2 bg-white"},na={class:"col-md-3 mb-2"},ua={class:"col-md-3"},ia={class:"col-md-3"},da={class:"col-md-1 text-end"},ma={class:"col-md-12"},va={class:"card h-100"},ca={__name:"AbsensiDashboard",setup(ba){var Re,Le;const He=Ve(),W=Ve(),me=ml(()=>{var o;return((o=He.user)==null?void 0:o.id_company)||0}),j=n(new Date().toISOString().slice(0,7)),ve=()=>{if(!j.value)return;const o=`${h}/absensi-summary?month=${j.value}`;me.value!==0?ge.value.data=`${o}&company_id=${me.value}`:ge.value.data=o},Me=async()=>{var o,e;ve(),await K(),(e=(o=ce.value)==null?void 0:o.refresh)==null||e.call(o)},Ne=async()=>{var o,e;j.value=new Date().toISOString().slice(0,7),ve(),await K(),(e=(o=ce.value)==null?void 0:o.refresh)==null||e.call(o)};ne(()=>{ve()});const ze=n(null),ce=n(null),b=n(!0),Z=new Date,f=n("0"),Be=[{label:"Table",value:"0"},{label:"Daily Trend",value:"2"},{label:"Leaderboard",value:"3"},{label:"Timesheet",value:"1"}],V=n(new Date().toISOString().slice(0,10)),G=n(14),E=n(null),H=n(null),ee=n([]),be=n([]),he=n([]),Pe=n([{label:"Office & Site",value:""},{label:"Office",value:"Office"},{label:"Site",value:"Site"}]),le=n(null),ae=n(null),we=n(null),Ce=n(null),te=n(),M=n({title:"Daily Average Hour Worked",type:"line",api:{url:h+"/chart/absensi_avg_hw",params:[G.value,V.value,"","",""]},columns:{label:["formatted_date"],datas:["avg_hour_worked"]},colors:["red"],labels:["Average Hour Worked"]}),oe=n(),N=n({title:"Daily Average Hour In Out",type:"line",api:{url:h+"/chart/absensi_avg_hio",params:[G.value,V.value,"","",""]},columns:{label:["formatted_date"],datas:["avg_hour_in_decimal","avg_hour_out_decimal"],extras:["avg_hour_in","avg_hour_out"]},colors:["green","red"],labels:["Average Hour In","Average Hour Out"]}),z=n(null),B=n(null),P=n(null),v=n(new Date),_=n(new Date().toISOString().slice(0,10));v.value.setDate(Z.getDate()-7),v.value=v.value.toISOString().slice(0,10);const ye=[{label:"Earliest Hour-In",value:{url:"/chart/absensi_leaderboard_hi_asc",datas:["avg_hour_in_decimal"],labels:["Average Latest Hour-In"],extras:["avg_hour_in"]}},{label:"Latest Hour-In",value:{url:"/chart/absensi_leaderboard_hi_desc",datas:["avg_hour_in_decimal"],labels:["Average Latest Hour-In"],extras:["avg_hour_in"]}},{label:"Earliest Hour-Out",value:{url:"/chart/absensi_leaderboard_ho_asc",datas:["avg_hour_out_decimal"],labels:["Average Latest Hour-Out"],extras:["avg_hour_out"]}},{label:"Latest Hour-Out",value:{url:"/chart/absensi_leaderboard_ho_desc",datas:["avg_hour_out_decimal"],labels:["Average Latest Hour-Out"],extras:["avg_hour_out"]}},{label:"Shortest Working Hours",value:{url:"/chart/absensi_leaderboard_hw_asc",datas:["avg_hour_worked"],labels:["Average Longest Working Hours"]}},{label:"Longest Working Hours",value:{url:"/chart/absensi_leaderboard_hw_desc",datas:["avg_hour_worked"],labels:["Average Longest Working Hours"]}}],I=n(ye[1]),pe=n(),p=n({title:"Leaderboard",type:"ybar",api:{url:h+I.value.value.url,params:[v.value,_.value,"","",""]},columns:{label:((Re=I.value.value)==null?void 0:Re.label)??["name"],datas:I.value.value.datas,extras:((Le=I.value.value)==null?void 0:Le.extras)??null},colors:["red"],labels:I.value.value.labels}),L=async(o,e)=>{var l,i,O;if(o==="leaderboard"&&((l=e==null?void 0:e.value)!=null&&l.url))I.value=e,p.value={...p.value,api:{...p.value.api,url:h+e.value.url,params:[v.value,_.value,z.value??"",B.value??"",P.value??""]},columns:{...p.value.columns,label:((i=e.value)==null?void 0:i.label)??["name"],datas:e.value.datas,extras:((O=e.value)==null?void 0:O.extras)??null},labels:e.value.labels};else if(o==="startDate")new Date(v.value)>new Date(_.value)&&(_.value=v.value,p.value.api.params[1]=_.value),p.value.api.params[0]=v.value;else if(o==="endDate")new Date(v.value)>new Date(_.value)&&(v.value=_.value,p.value.api.params[0]=v.value),p.value.api.params[1]=_.value;else if(o==="dep")z.value=e,p.value.api.params[2]=z.value.value;else if(o==="loc")B.value=e,p.value.api.params[3]=B.value.value;else if(o==="placement")P.value=e,p.value.api.params[4]=P.value.value;else if(o==="reset"){const C=new Date(Z);C.setDate(Z.getDate()-7),v.value=C.toISOString().slice(0,10),_.value=Z.toISOString().slice(0,10),z.value=null,B.value=null,P.value=null,p.value.api.params=[v.value,_.value,"","",""]}if(await K(),!!pe.value){try{await pe.value.renderChart()}catch(C){console.error("Chart rendering failed:",C)}await K()}},Ke=async()=>{const o=await X.get(`${h}/dropdowns/department`,{headers:{Authorization:`Bearer ${W.token}`}});ee.value=o.data.map(i=>({label:i,value:i}));const e=await X.get(`${h}/dropdowns/name`,{headers:{Authorization:`Bearer ${W.token}`}});be.value=e.data.map(i=>({label:i,value:i}));const l=await X.get(`${h}/dropdowns/location`,{headers:{Authorization:`Bearer ${W.token}`}});he.value=l.data.map(i=>({label:i,value:i})),b.value=!1},ke=n();function se(){const o=new Date,e=o.getHours().toString().padStart(2,"0"),l=o.getMinutes().toString().padStart(2,"0"),i=o.getSeconds().toString().padStart(2,"0");ke.value=`${e}:${l}:${i}`}const De=n(0),We=async()=>{var o,e;b.value=!0;try{const l=await X.get(`${h}/total-masuk`,{headers:{Authorization:`Bearer ${W.token}`}});De.value=l.data.data.total_masuk}catch(l){error.value=((e=(o=l.response)==null?void 0:o.data)==null?void 0:e.message)||"Gagal memuat data kehadiran",console.error("Error:",l)}finally{b.value=!1}};ne(()=>{We()}),ne(async()=>{se(),setInterval(se,1e3),await Ke(),b.value=!1});const je=n({title:"",styleClass:"",size:[10,30,100]}),Je=n({firstCol:{label:"USERNAME",field:"username",type:"type",width:100},priority:["status","name","department","jabatan","hour_in","lokasi_in","hour_out","lokasi_out"],unpriority:["lastUpdated"],hidden:["tanggal","rn","created_at","foto_in","foto_out","ovt","break","hour_worked","ph","normal_hours","dim_in","dim_out","calculation_overtime_1x1_5","calculation_overtime_1x2","calculation_overtime_1x3","calculation_overtime_1x4","total","ovt_salary"],toRemove:["id"],exclude:[],uneditable:[],checkbox:["spare_exists"],date:[],datetime:[],status:{field:"status",calculate:o=>{var O,C;const e=new Date().toISOString().slice(0,10),l=(O=o.hour_in)==null?void 0:O.slice(0,10),i=(C=o.hour_out)==null?void 0:C.slice(0,10);return l!==e&&i!==e?"Tidak Hadir":o.hour_out==null?"Masuk":"Pulang"}},columns:[{column:"status",width:100},{column:"name",width:180},{column:"department",width:160},{column:"jabatan",width:150},{column:"hour_in",width:130},{column:"lokasi_in",width:140},{column:"hour_out",width:130},{column:"lokasi_out",width:140},{column:"ip_in",width:130},{column:"ip_out",width:130},{column:"device_in",width:200},{column:"device_out",width:200}]}),Ye=n({data:`${h}/absensi-latest`,dropdowns:{},get:{}}),Qe=n({title:"Sampling Recap",export:"Sampling Recap",styleClass:"",size:[10,30,100]}),qe=n({firstCol:{label:"USERNAME",field:"NIK",type:"type",width:100},priority:["NIK","name","lokasi","jabatan","department","Kepeg"],unpriority:["lastUpdated"],hidden:[],toRemove:["filterable"],exclude:["filterable"],uneditable:[],checkbox:["spare_exists"],date:[],datetime:[],columns:[{column:"name",width:120},{column:"lokasi",width:120},{column:"jabatan",width:180},{column:"department",width:180}]}),ge=n({data:`${h}/absensi-summary`,dropdowns:{},get:{}});function Xe(o,e=500){let l;return(...i)=>{clearTimeout(l),l=setTimeout(()=>o(...i),e)}}const Se=async()=>{var o,e;M.value.api.params[0]=G.value,N.value.api.params[0]=G.value,M.value.api.params[1]=V.value,N.value.api.params[1]=V.value,await((o=te.value)==null?void 0:o.renderChart()),await((e=oe.value)==null?void 0:e.renderChart()),await K()},Ae=Xe(Se,500),xe=async(o,e)=>{let l=0;o==="dep"?(E.value=e,l=3):o==="emp"&&(H.value=e,l=2),M.value.api.params[l]=e.value,N.value.api.params[l]=e.value,await te.value.renderChart(),await oe.value.renderChart(),await K()},Ie=async(o,e)=>{o==="dep"?we.value=e:o==="emp"&&(Ce.value=e)},Ze=async()=>{var Ue,Fe;if(!le.value||!ae.value){alert("Set the Interval!");return}const e=(await X.get(h+"/data/hr_absensi_timesheet",{headers:{Authorization:`Bearer ${W.token}`},params:{params:[le.value,ae.value,((Ue=Ce.value)==null?void 0:Ue.value)??"",((Fe=we.value)==null?void 0:Fe.value)??"",""]}})).data;if(!e.length)return;const l=e.reduce((T,Y)=>{const Q=`${Y.username} ${Y.name}`;return T[Q]||(T[Q]=[]),T[Q].push(Y),T},{}),i=new bl.Workbook,O=["formatted_date","day_name","hour_start","hour_finish","break","req","hour_worked","placeholder1","placeholder2","ph","normal_hours","ovt","calculation_overtime_1x1_5","calculation_overtime_1x2","calculation_overtime_1x3","calculation_overtime_1x4","total","r_value"],C={break:"=IF(AND(C{row}>0, D{row}-C{row}>=5), IF(D{row}>=20, IF(D{row}=24, 3, 2), 1), 0)",hour_worked:"=D{row}-C{row}-E{row}-F{row}",total:"=SUMPRODUCT(M{row}:P{row}, {1.5,2,3,4})",placeholder1:"=G{row}",placeholder2:"=ROUND(I{row}, 0)",normal_hours:"=IF(G{row}>=8, 8, G{row})",ovt:"=G{row}-K{row}",calculation_overtime_1x1_5:"=IF(G{row}<8,0,IF(G{row}>=9,1,G{row}-8))",calculation_overtime_1x2:"=IF(G{row}>5,G{row}-K{row}-M{row},0)",calculation_overtime_1x3:"=IF(G{row}<=8,0,IF(G{row}>=8,1,G{row}-8))",calculation_overtime_1x4:"=IF(G{row}>8,G{row}-N{row}-O{row},0)",total:"=M{row}*1.5+N{row}*2+O{row}*3+P{row}*4",r_value:'=IF(C{row}<>"", "FALSE", "")'},Oe={normal_hours:"=IF(G{row} > 8, 8, ROUND(G{row}, 0))",ovt:"=G{row}-K{row}",calculation_overtime_1x1_5:"=IF(G{row} > 0, 1, 0)",calculation_overtime_1x2:"=IF(G{row} > 1, G{row} - 1, 0)",calculation_overtime_1x3:"=0",calculation_overtime_1x4:"=0"},Te={normal_hours:"=0",ovt:"=G{row}-K{row}",calculation_overtime_1x1_5:"=0",calculation_overtime_1x2:"=IF(G{row} > 8, 8, ROUND(G{row}, 0))",calculation_overtime_1x3:"=IF(G{row} > 8, 1, 0)",calculation_overtime_1x4:"=IF(G{row} > 9, G{row} - 9, 0)"},el=[12.22,8.33,6.72,8.78,8.89,4.22,10.11,9.56,11.11,8.78,7.33,8.22,12.56];Object.entries(l).forEach(([T,Y])=>{const[Q,...tl]=T.split(" "),ol=tl.join(" "),sl=T.slice(0,31).replace(/[\[\]\*\/\\\?\:]/g,""),a=i.addWorksheet(sl);a.properties.showGridLines=!1,a.pageSetup.showGridLines=!1,el.forEach((r,u)=>a.getColumn(u+1).width=r);const re={horizontal:"center",vertical:"middle",wrapText:!0};a.getCell("A1").value="PT.TRANSKON JAYA",a.getCell("A1").font={font:"Arial",size:16,bold:!0},a.getCell("A2").value="JL. MULAWARMAN NO. 21 BALIKPAPAN",a.getCell("A2").font={font:"Arial",size:11},a.getCell("A4").value="Empl.No.",a.getCell("A4").font={font:"Arial",size:12,bold:!0},a.getCell("B4").value=Q,a.getCell("B4").font={font:"Arial",size:12,bold:!0},a.getCell("A5").value="Name",a.getCell("A5").font={font:"Arial",size:12,bold:!0},a.getCell("B5").value=ol,a.getCell("B5").font={font:"Arial",size:12,bold:!0},a.getCell("O1").value="TIME SHEET",a.getCell("O1").font={font:"Arial",size:15,bold:!0};for(let r=8;r<=9;r++)for(let u=1;u<=17;u++){const w=a.getCell(r,u);w.font={font:"Arial",size:12,bold:!0},w.alignment=re;const S={};r===8&&(S.top={style:"double"},S.bottom={style:"medium"}),r===9&&(S.bottom={style:"double"}),u===1&&(S.left={style:"double"}),u<17?S.right={style:"medium"}:S.right={style:"double"},w.border=S}a.getCell("A8").value="Date / Day",a.getCell("B8").value="",a.getCell("C8").value="Start",a.getCell("D8").value="Finish",a.getCell("E8").value="Break",a.getCell("F8").value="Req.",a.getColumn("F").hidden=!0,a.getCell("G8").value="Total Hrs Worked",a.mergeCells("G8:G9"),a.getCell("G8").border.bottom={style:"double"},a.getCell("H8").value="",a.getColumn("H").hidden=!0,a.getCell("I8").value="",a.getColumn("I").hidden=!0,a.getCell("J8").value="PH",a.getCell("K8").value="Normal Hours",a.mergeCells("K8:K9"),a.getCell("L8").value="OVT",a.getCell("M8").value="Calculation Overtime",a.mergeCells("M8:P8"),a.getCell("M9").value="1 x 1.5",a.getCell("N9").value="1 x 2",a.getCell("O9").value="1 x 3",a.getCell("P9").value="1 x 4",a.getCell("Q8").value="Total",a.getCell("R9").value="days",a.getColumn("R").hidden=!0,a.getCell("W8").value="TOTAL",a.mergeCells("W8:AB8"),a.getCell("W8").alignment={horizontal:"center",vertical:"middle"},a.getCell("W8").font={bold:!1},a.getCell("W8").border={top:{style:"medium"},bottom:{style:"medium"},left:{style:"medium"},right:{style:"medium"}};const rl=["Sick","Absent","Day work","AL","LSL","Trip"];["W","X","Y","Z","AA","AB"].forEach((r,u)=>{const w=a.getCell(`${r}9`);w.value=rl[u],w.alignment={horizontal:"center",vertical:"middle"},w.font={bold:!1},w.border={top:{style:"medium"},bottom:{style:"medium"},left:{style:"medium"},right:{style:"medium"}}});const y=10;let s=10;Y.forEach((r,u)=>{s=y+u;const w=a.getRow(s);O.forEach((g,fe)=>{const d=w.getCell(fe+1);let k=r[g];d.border={top:{style:"medium"},bottom:{style:"medium"},left:{style:"medium"},right:{style:"medium"}},u===0&&(d.border.top={style:"double"}),d.alignment={horizontal:"center",vertical:"middle"},[].includes(g)?d.value="-":["calculation_overtime_1x1_5","calculation_overtime_1x2","calculation_overtime_1x3","calculation_overtime_1x4"].includes(g)?r.id_holiday===null?Oe[g]&&(d.value={formula:Oe[g].replace(/{row}/g,y+u)},d.numFmt='0.00;-0.00;"-"'):Te[g]&&(d.value={formula:Te[g].replace(/{row}/g,y+u)},d.numFmt='0.00;-0.00;"-"'):C[g]?(d.value={formula:C[g].replace(/{row}/g,y+u)},d.numFmt='0.00;-0.00;"-"'):["hour_start","hour_finish","break","hour_worked","normal_hours"].includes(g)?(k=typeof k=="string"?parseFloat(k):k,d.value=isNaN(k)?null:k,d.numFmt='0.00;-0.00;"-"'):d.value=k,r.id_holiday!==null&&(d.font={color:{argb:"FFFF0000"}})});const S=["Sick","Absent","Day work","AL","LSL","Trip"],il={Sick:"W",Absent:"X","Day work":"Y",AL:"Z",LSL:"AA",Trip:"AB"};S.forEach(g=>{const fe=il[g],d=a.getCell(`${fe}${s}`);let k="-";g==="Trip"&&r.hour_start&&(k=1),d.value=k,d.alignment=re,d.border={top:{style:"medium"},bottom:{style:"medium"},left:{style:"medium"},right:{style:"medium"}}}),w.commit()}),a.mergeCells(`A${s+1}:F${s+1}`),a.getCell(`A${s+1}`).value="TOTAL",a.getCell(`A${s+1}`).alignment={horizontal:"center",vertical:"middle"},a.getCell(`A${s+1}`).font={bold:!0},a.getCell(`G${s+1}`).value={formula:`=SUM(G${y}:G${s})`},a.getCell(`K${s+1}`).value={formula:`=SUM(K${y}:K${s})`},a.getCell(`L${s+1}`).value={formula:`=SUM(L${y}:L${s})`},a.getCell(`Q${s+1}`).value={formula:`=SUM(Q${y}:Q${s})`};for(let r=1;r<=17;r++){const u=a.getCell(s+1,r);u.border={top:{style:"double"},bottom:{style:"double"},left:{style:"double"},right:{style:"double"}},u.alignment=re,u.numFmt='0.00;-0.00;"-"'}a.getCell(s+4,1).value="Overtime : ";for(let r=0;r<4;r++){a.getCell(s+6+r,1).value=[1.5,2,3,4][r],a.getCell(s+6+r,2).value="x",a.getCell(s+6+r,3).value="-",a.getCell(s+6+r,4).value="=",a.getCell(s+6+r,5).value="-";for(let u=1;u<=5;u++)a.getCell(s+6+r,u).alignment=re}a.getCell(s+10,5).value="-",a.getCell(s+10,5).border={top:{style:"medium"},bottom:{style:"medium"}},a.getCell(s+2,12).value="Printed Date: ",a.getCell(s+3,12).value="Prepared By : ",a.getCell(s+2,14).value={formula:"=TODAY()"},a.getCell(s+2,14).numFmt="d-mmm-yy",a.getCell(s+3,14).value="System";const nl=["Jumlah Hari Kerja","Sakit","Absent-Tidak Dibayar","Cuti Tahunan","Cuti Panjang","Perjalanan Dinas"],ul=[{formula:`=SUMPRODUCT(--((C${y}:C${s}<>"") + (D${y}:D${s}<>"") > 0))`},0,0,0,0,0];for(let r=0;r<6;r++)a.getCell(s+4+r,9).value=nl[r],a.getCell(s+4+r,12).value="=",a.getCell(s+4+r,13).value=ul[r],a.getCell(s+4+r,14).value="days"});const ll=await i.xlsx.writeBuffer(),al=new Blob([ll],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),J=document.createElement("a");J.href=URL.createObjectURL(al),J.download="timesheets.xlsx",document.body.appendChild(J),J.click(),document.body.removeChild(J)};ne(()=>{se(),setInterval(se,1e3)});const $e=async()=>{E.value=null,H.value=null,M.value.api.params[2]="",M.value.api.params[3]="",N.value.api.params[2]="",N.value.api.params[3]="",await te.value.renderChart(),await oe.value.renderChart()};return(o,e)=>(m(),A(Ge,null,[b.value?c("",!0):(m(),A("div",pl,[t("div",gl,[e[29]||(e[29]=t("h1",{class:"h3 fw-bold mb-0"},[t("i",{class:"bi bi-people-fill me-2"}),q(" Absensi Dashboard ")],-1)),t("div",fl,[t("div",null,ue(ke.value),1)])]),t("div",_l,[t("div",hl,[t("div",wl,[t("div",Cl,[t("h3",yl,ue(De.value),1),e[30]||(e[30]=t("p",{class:"fw-bold mb-0"},"Total Karyawan Masuk Hari Ini",-1))])])])])])),t("ul",kl,[(m(),A(Ge,null,vl(Be,l=>t("li",{class:"nav-item",key:l.value},[t("button",{class:cl(["nav-link",{active:f.value===l.value}]),onClick:i=>f.value=l.value},ue(l.label),11,Dl)])),64))]),f.value==="0"||f.value==="site-summary"?(m(),A("div",Sl,[x(Ee,{ref_key:"bigTableRef",ref:ze,settings:je.value,urls:Ye.value,fields:Je.value,canInsert:!1,canUpdate:!1},null,8,["settings","urls","fields"])])):c("",!0),f.value==="4"?(m(),A("div",Al,[t("div",xl,[t("div",Il,[t("div",$l,[e[31]||(e[31]=t("label",{class:"form-label"},"Select Month",-1)),U(t("input",{type:"month",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=l=>j.value=l)},null,512),[[F,j.value]])]),t("div",{class:"col-md-3"},[t("button",{class:"btn btn-primary w-100",onClick:Me}," Filter ")]),t("div",{class:"col-md-3"},[t("button",{class:"btn btn-danger w-100",onClick:Ne}," Reset ")]),t("div",Rl,[t("div",Ll," Viewing: "+ue(me.value===0?"All Companies":"Your Company"),1)])])]),x(Ee,{ref_key:"bigTableRefRecap",ref:ce,settings:Qe.value,urls:ge.value,fields:qe.value,canInsert:!1,canUpdate:!1},null,8,["settings","urls","fields"])])):c("",!0),f.value==="2"?(m(),A("div",Ol,[t("div",null,[t("div",Tl,[t("div",Ul,[e[32]||(e[32]=t("label",{class:"form-label"},"Start Date",-1)),U(t("input",{type:"date",class:"form-control border rounded p-2 bg-white","onUpdate:modelValue":e[1]||(e[1]=l=>V.value=l),onChange:Se},null,544),[[F,V.value]])]),t("div",Fl,[e[33]||(e[33]=t("label",{class:"form-label"},"Number of Days",-1)),t("div",Vl,[U(t("input",{type:"number",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=l=>G.value=l),min:"1",onChange:e[3]||(e[3]=(...l)=>D(Ae)&&D(Ae)(...l))},null,544),[[F,G.value,void 0,{number:!0}]])])]),t("div",Gl,[e[34]||(e[34]=t("label",{class:"form-label"},"Select Department",-1)),b.value?c("",!0):(m(),$(D(R),{key:0,modelValue:E.value,"onUpdate:modelValue":[e[4]||(e[4]=l=>E.value=l),e[5]||(e[5]=l=>xe("dep",l))],options:ee.value||[],placeholder:"Select Department",label:"label","track-by":"value",class:"multiselect no-border"},null,8,["modelValue","options"]))]),t("div",El,[e[35]||(e[35]=t("label",{class:"form-label"},"Select Employee",-1)),b.value?c("",!0):(m(),$(D(R),{key:0,modelValue:H.value,"onUpdate:modelValue":[e[6]||(e[6]=l=>H.value=l),e[7]||(e[7]=l=>xe("emp",l))],options:be.value||[],placeholder:"Select Employee",label:"label","track-by":"value",class:"multiselect no-border"},null,8,["modelValue","options"]))]),t("div",Hl,[x(de,{type:"submit",color:"danger",size:"md",block:!1,onClick:$e},{default:ie(()=>e[36]||(e[36]=[q(" Reset ")])),_:1})])])]),t("div",Ml,[t("div",Nl,[x(_e,{ref_key:"chartRef1",ref:te,settings:M.value},null,8,["settings"])])]),t("div",zl,[t("div",Bl,[x(_e,{ref_key:"chartRef2",ref:oe,settings:N.value},null,8,["settings"])])])])):c("",!0),f.value===""||f.value==="1"?(m(),A("div",Pl,[f.value===""||f.value==="1"?(m(),A("div",Kl,[t("div",Wl,[t("div",jl,[e[37]||(e[37]=t("label",{class:"form-label"},"Start Date",-1)),t("div",Jl,[U(t("input",{type:"date",class:"form-control border-0 p-0","onUpdate:modelValue":e[8]||(e[8]=l=>le.value=l),onChange:e[9]||(e[9]=(...l)=>o.handleDateChange&&o.handleDateChange(...l))},null,544),[[F,le.value]])])]),t("div",Yl,[e[38]||(e[38]=t("label",{class:"form-label"},"End Date",-1)),t("div",Ql,[U(t("input",{type:"date",class:"form-control border-0 p-0","onUpdate:modelValue":e[10]||(e[10]=l=>ae.value=l),onChange:e[11]||(e[11]=(...l)=>o.handleDateChange&&o.handleDateChange(...l))},null,544),[[F,ae.value]])])]),t("div",ql,[e[39]||(e[39]=t("label",{class:"form-label"},"Select Department",-1)),b.value?c("",!0):(m(),$(D(R),{key:0,modelValue:E.value,"onUpdate:modelValue":[e[12]||(e[12]=l=>E.value=l),e[13]||(e[13]=l=>Ie("dep",l))],options:ee.value||[],placeholder:"Select Department",label:"label","track-by":"value",class:"multiselect no-border"},null,8,["modelValue","options"]))]),t("div",Xl,[e[40]||(e[40]=t("label",{class:"form-label"},"Select Employee",-1)),b.value?c("",!0):(m(),$(D(R),{key:0,modelValue:H.value,"onUpdate:modelValue":[e[14]||(e[14]=l=>H.value=l),e[15]||(e[15]=l=>Ie("emp",l))],options:be.value||[],placeholder:"Select Employee",label:"label","track-by":"value",class:"multiselect no-border"},null,8,["modelValue","options"]))]),t("div",Zl,[x(de,{type:"submit",color:"danger",size:"md",block:!1,onClick:$e},{default:ie(()=>e[41]||(e[41]=[q(" Reset ")])),_:1})])])])):c("",!0),x(de,{onClick:Ze,class:"btn btn-danger"},{default:ie(()=>e[42]||(e[42]=[q(" Download Timesheet ")])),_:1})])):c("",!0),f.value==="3"||f.value==="3"?(m(),A("div",ea,[t("div",la,[t("div",aa,[e[43]||(e[43]=t("label",{class:"form-label"},"Leaderboard",-1)),b.value?c("",!0):(m(),$(D(R),{key:0,modelValue:I.value,"onUpdate:modelValue":[e[16]||(e[16]=l=>I.value=l),e[17]||(e[17]=l=>L("leaderboard",l))],options:ye||[],placeholder:"Select Leaderboard",label:"label","track-by":"value",class:"multiselect no-border"},null,8,["modelValue","options"]))]),t("div",ta,[e[44]||(e[44]=t("label",{class:"form-label"},"Start Date",-1)),t("div",oa,[U(t("input",{type:"date",class:"form-control border-0 p-0","onUpdate:modelValue":e[18]||(e[18]=l=>v.value=l),onChange:e[19]||(e[19]=l=>L("startDate"))},null,544),[[F,v.value]])])]),t("div",sa,[e[45]||(e[45]=t("label",{class:"form-label"},"End Date",-1)),t("div",ra,[U(t("input",{type:"date",class:"form-control border-0 p-0","onUpdate:modelValue":e[20]||(e[20]=l=>_.value=l),onChange:e[21]||(e[21]=l=>L("endDate"))},null,544),[[F,_.value]])])]),t("div",na,[e[46]||(e[46]=t("label",{class:"form-label"},"Department",-1)),b.value?c("",!0):(m(),$(D(R),{key:0,modelValue:z.value,"onUpdate:modelValue":[e[22]||(e[22]=l=>z.value=l),e[23]||(e[23]=l=>L("dep",l))],options:ee.value||[],placeholder:"Select Department",label:"label","track-by":"value",class:"multiselect no-border"},null,8,["modelValue","options"]))]),t("div",ua,[e[47]||(e[47]=t("label",{class:"form-label"},"Location",-1)),b.value?c("",!0):(m(),$(D(R),{key:0,modelValue:B.value,"onUpdate:modelValue":[e[24]||(e[24]=l=>B.value=l),e[25]||(e[25]=l=>L("loc",l))],options:he.value||[],placeholder:"Select Location",label:"label","track-by":"value",class:"multiselect no-border"},null,8,["modelValue","options"]))]),t("div",ia,[e[48]||(e[48]=t("label",{class:"form-label"},"Placement",-1)),b.value?c("",!0):(m(),$(D(R),{key:0,modelValue:P.value,"onUpdate:modelValue":[e[26]||(e[26]=l=>P.value=l),e[27]||(e[27]=l=>L("placement",l))],options:Pe.value||[],placeholder:"Select Placement",label:"label","track-by":"value",class:"multiselect no-border"},null,8,["modelValue","options"]))]),t("div",da,[x(de,{type:"submit",color:"danger",size:"md",block:!1,onClick:e[28]||(e[28]=l=>L("reset"))},{default:ie(()=>e[49]||(e[49]=[q(" Reset ")])),_:1})]),t("div",ma,[t("div",va,[x(_e,{ref_key:"chartRef3",ref:pe,settings:p.value},null,8,["settings"])])])])])):c("",!0)],64))}},Ia=dl(ca,[["__scopeId","data-v-e37676f1"]]);export{Ia as default};
