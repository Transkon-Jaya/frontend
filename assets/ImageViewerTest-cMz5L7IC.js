import{_ as e,r as a,p as s,w as t,N as n,c as l,m as r,g as i,a as o,y as u,t as c,P as m,d as v,F as d,j as g}from"./index-ymcskxsK.js";const p={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center"},h={class:"relative max-w-[90vw] max-h-[80vh] flex flex-col items-center bg-white p-4 rounded-lg"},b=["src"],x={class:"absolute top-4 left-4 text-white"},w={class:"text-lg font-semibold"},y={class:"text-sm"},_={class:"flex gap-4 mt-4 text-white"},f=e({__name:"ImageViewer",props:{images:Array,isOpen:Boolean,startIndex:Number},emits:["close"],setup(e,{emit:m}){const v=e,d=m,g=a(0),f=a(!1),k=a(!1);let I=null;const j=s((()=>{var e;return(null==(e=v.images)?void 0:e[g.value])||{}}));t((()=>v.startIndex),(e=>{g.value=e??0}),{immediate:!0}),t((()=>v.isOpen),(e=>{e?window.addEventListener("keydown",E):(A(),window.removeEventListener("keydown",E))})),n((()=>{A(),window.removeEventListener("keydown",E)}));const C=e=>{const a=e.target;k.value=a.naturalWidth>a.naturalHeight},N=()=>{g.value=(g.value+1)%v.images.length},O=()=>{g.value=(g.value-1+v.images.length)%v.images.length},L=()=>{f.value?A():(f.value=!0,I=setInterval(N,3e3))},A=()=>{clearInterval(I),I=null,f.value=!1},E=e=>{if(v.isOpen)switch(e.key){case"ArrowRight":N();break;case"ArrowLeft":O();break;case" ":e.preventDefault(),L();break;case"Escape":case"Delete":d("close")}};return(a,s)=>e.isOpen?(i(),l("div",p,[o("div",h,[o("img",{src:j.value.url,onLoad:C,class:u([{"rotate-landscape":k.value},"max-w-full max-h-[70vh] object-contain transition-transform duration-300"])},null,42,b),o("div",x,[o("p",w,c(j.value.username),1),o("p",y,c(j.value.name),1)]),o("div",_,[o("button",{onClick:O,class:"px-4 py-1 bg-gray-700 rounded hover:bg-gray-600"},"Prev"),o("button",{onClick:L,class:"px-4 py-1 bg-gray-700 rounded hover:bg-gray-600"},c(f.value?"Pause":"Play"),1),o("button",{onClick:N,class:"px-4 py-1 bg-gray-700 rounded hover:bg-gray-600"},"Next")])]),o("div",{class:"absolute top-4 right-4 text-white text-3xl cursor-pointer",onClick:s[0]||(s[0]=e=>d("close"))}," Ã— ")])):r("",!0)}},[["__scopeId","data-v-bdd47bcb"]]),k={class:"container"},I={class:"gallery"},j=["onClick"],C=["src"],N=e({__name:"ImageViewerTest",setup(e){const s=a(!1),t=a(0),n=a([{url:m+"/absensi/Rosiman_IN_1746148802.jpg",username:"john_doe",name:"John Doe"},{url:m+"/absensi/Tj1023_IN_1746138582.jpg",username:"jane_smith",name:"Jane Smith"},{url:m+"/absensi/furqon_IN_1745814862.jpg",username:"alex_ray",name:"Alex Ray"},{url:m+"/absensi/admin-site_IN_1745288417.jpeg",username:"jane_smith",name:"Jane Smith"}]),r=e=>{const a=new Image;return a.src=e,a.width>a.height};return(e,a)=>(i(),l("div",k,[a[1]||(a[1]=o("h2",null,"Gallery",-1)),o("div",I,[(i(!0),l(d,null,g(n.value,((e,a)=>(i(),l("div",{key:a,class:"thumb-container",onClick:e=>(e=>{t.value=e,s.value=!0})(a)},[o("img",{src:e.url,class:u(["thumb",{"rotate-landscape":r(e.url)}])},null,10,C),o("p",null,c(e.username),1)],8,j)))),128))]),v(f,{images:n.value,isOpen:s.value,startIndex:t.value,onClose:a[0]||(a[0]=e=>s.value=!1)},null,8,["images","isOpen","startIndex"])]))}},[["__scopeId","data-v-082064c3"]]);export{N as default};
