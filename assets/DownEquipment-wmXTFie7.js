import{_ as g,u as b,r as o,o as w,c as y,a as t,d as u,t as l,f as x,q as D,g as k,h as U}from"./index-BQPa_VZ_.js";import{_ as S}from"./BigTable-DsjmHBqI.js";/* empty css                                                                  */import{R as B}from"./RouterLink-DPT4NF1e.js";import"./xlsx-CLDEuguR.js";import"./vue-multiselect-h_fJRxql.js";/* empty css                                                                   */const C={class:"container mt-4"},N={class:"d-flex justify-content-between align-items-center mb-3"},T={class:"text-end"},q={class:"row text-center mb-4"},E={class:"col"},R={class:"card border-success"},$={class:"card-body"},F={class:"text-success"},I={class:"col"},A={class:"card border-danger"},O={class:"card-body"},V={class:"text-danger"},H={class:"col"},K={class:"card border-warning"},M={class:"card-body"},j={class:"text-warning"},z={class:"mb-4"},G={__name:"DownEquipment",setup(L){const a=b(),n=o(0),i=o(0),d=o(0),r=o("");function c(){const s=new Date,e=s.getHours().toString().padStart(2,"0"),h=s.getMinutes().toString().padStart(2,"0"),f=s.getSeconds().toString().padStart(2,"0");r.value=`${e}:${h}:${f}`}const _=o({title:"Down Equipment",size:[10,20,100]});o({});const p=o({firstCol:{label:"TK NO",field:"tk_no",type:"type"},priority:["customer","alt_location"],unpriority:["username","createdAt","lastUpdated"],hidden:[],toRemove:["id"],exclude:[],uneditable:[],checkbox:["spare_exists"],date:[],datetime:[]}),v=o({data:`${a.apiBaseUrl}/de_site`,dropdowns:{vehicle_type:{url:a.apiBaseUrl+"/dropdowns/vehicle_type",valueField:"vehicle_type",column:"vehicle_type"},tk_no:{url:a.apiBaseUrl+"/dropdowns/tk_no",valueField:"tk_no",column:"tk_no"}},get:{vehicle_type:{url:a.apiBaseUrl+"/get/vehicle_type",valueField:"vehicle_type",column:"vehicle_type"}}}),m=async()=>{try{const s=await D.get(a.apiBaseUrl+"/get/total_rental");n.value=s.data[0],i.value=s.data.length>=3?s.data[1]+s.data[2]:0,d.value=s.data.length>=3?s.data[2]:0,n.value-=i.value,n.value-=d.value}catch(s){console.error("Fetch error:",s)}};return w(()=>{m(),c(),setInterval(c,1e3)}),console.log("User Data"),console.log(a.level),console.log(a.permissions),(s,e)=>(k(),y("div",C,[t("div",N,[e[1]||(e[1]=t("h4",{class:"fw-bold"},"TRANSKON - Down Equipment",-1)),t("div",T,[e[0]||(e[0]=t("h5",{class:"fw-bold text-primary"},null,-1)),t("div",null,l(r.value),1)])]),t("div",q,[t("div",E,[t("div",R,[t("div",$,[t("h3",F,l(n.value),1),e[2]||(e[2]=t("p",{class:"fw-bold mb-0"},"On Hire (UIC)",-1))])])]),t("div",I,[t("div",A,[t("div",O,[t("h3",V,l(i.value),1),e[3]||(e[3]=t("p",{class:"fw-bold mb-0"},"Total Unit Down",-1))])])]),t("div",H,[t("div",K,[t("div",M,[t("h3",j,l(d.value),1),e[4]||(e[4]=t("p",{class:"fw-bold mb-0"},"PA Rental",-1))])])])]),u(S,{settings:_.value,urls:v.value,fields:p.value,canInsert:!1,canUpdate:!1},null,8,["settings","urls","fields"]),t("div",z,[u(B,{to:"/de/dashboard",class:"btn btn-danger mt-3"},{default:x(()=>e[5]||(e[5]=[U("Go to Dashboard")])),_:1})])]))}},tt=g(G,[["__scopeId","data-v-85fc0b3e"]]);export{tt as default};
