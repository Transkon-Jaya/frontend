import{u as _,r as t,A as l,o as y,c as m,I as p,q as v,a as g,d as f,g as u}from"./index-B44UkB8J.js";/* empty css                                                                  */import{_ as b}from"./BigTable-CaKFowq0.js";import{M as h}from"./MiniForm-BEfMjUnA.js";import"./vue-good-table.esm-tAzjRMqC.js";/* empty css                            */import"./vue-multiselect-CyRxEpkV.js";import"./xlsx-D1NZSDnX.js";import"./logger-B1IqVKgO.js";/* empty css                                                 */const A={class:"card"},N={__name:"AdminFormDe",setup(T){const i=_(),c=t({title:"Down Equipment",size:[5,55,100],canInsert:!0,canUpdate:!0}),s=t({data:`${l}/de_site`,params:`?username=${encodeURIComponent(i.username)}`,dropdowns:{vehicle_type:{url:l+"/dropdowns/vehicle_type",valueField:"vehicle_type",column:"vehicle_type"},tk_no:{url:l+"/dropdowns/tk_no",valueField:"tk_no",column:"tk_no"},tk_no_spare:{url:l+"/dropdowns/tk_no_spare",valueField:"tk_no",column:"tk_no"},category:{url:l+"/dropdowns/op_svc_category",valueField:"category",column:"category"},engine_:{url:l+"/dropdowns/op_svc_category_engine",valueField:"engine_",column:"engine_"},drive_train:{url:l+"/dropdowns/op_svc_category_driveTrain",valueField:"drive_train",column:"drive_train"},chasis:{url:l+"/dropdowns/op_svc_category_chasis",valueField:"chasis",column:"chasis"},electrical_body:{url:l+"/dropdowns/op_svc_category_electricalBody",valueField:"electrical_body",column:"electrical_body"},ac_system:{url:l+"/dropdowns/op_svc_category_acSystem",valueField:"ac_system",column:"ac_system"},repair_electrical:{url:l+"/dropdowns/op_svc_category_repairElectrical",valueField:"repair_electrical",column:"repair_electrical"},defact:{url:l+"/dropdowns/op_svc_category_defact",valueField:"defact",column:"defact"},body:{url:l+"/dropdowns/op_svc_category_body",valueField:"body",column:"body"}},get:{vehicle_type:{url:l+"/get/vehicle_type",valueField:"vehicle_type",column:"vehicle_type"}}}),o=t({firstCol:{label:"TK Number",field:"tk_no",type:"type"},columns:[{column:"tk_no",label:"TK Number",filterText:"Filter TK",required:!0},{column:"vehicle_type",label:"Vehicle Type",filterText:"All Vehicle",autofill:{triggeredBy:"tk_no",url:"get/vehicle_type",getValue:e=>e[0]}},{column:"plate_no",label:"Plate Number",filterText:"All Plate No",autofill:{triggeredBy:"tk_no",url:"get/plate_no",getValue:e=>e[0]}},{column:"km",label:"Kilometer",filterText:"km",required:!0},{column:"down_since",label:"Down Since",filterText:"Down Since",required:!0},{column:"estimated_return",label:"Estimated Return"},{column:"spare_exists",label:"Unit Spare"},{column:"tk_no_spare",label:"TK NO Spare",filterText:"Filter TK",required:!0,visibleIf:e=>e.spare_exists===!0},{column:"category",label:"Category",filterText:"Category"},{column:"schedule",label:"Schedule",filterText:"Schedule",required:!0,visibleIf:e=>!1,compute:e=>(console.log("formdata ",e.category),console.log("some ",e.category.some(r=>r.value==="Schedule")),Array.isArray(e.category)&&e.category.some(r=>r.value==="Schedule"))},{column:"engine_",label:"Engine",filterText:"Engine",required:!0,visibleIf:e=>Array.isArray(e.category)&&e.category.some(r=>r.value==="Engine")},{column:"drive_train",label:"Drive Train",filterText:"Drive Train",required:!0,visibleIf:e=>Array.isArray(e.category)&&e.category.some(r=>r.value==="Drive Train")},{column:"chasis",label:"Chasis",filterText:"Chasis",required:!0,visibleIf:e=>Array.isArray(e.category)&&e.category.some(r=>r.value==="Chasis")},{column:"electrical_body",label:"Electrical Body",filterText:"Electrical Body",required:!0,visibleIf:e=>Array.isArray(e.category)&&e.category.some(r=>r.value==="Electrical Body")},{column:"ac_system",label:"AC System",filterText:"AC System",required:!0,visibleIf:e=>Array.isArray(e.category)&&e.category.some(r=>r.value==="AC System")},{column:"repair_electrical",label:"Repair Electrical",filterText:"Repair Electrical",required:!0,visibleIf:e=>Array.isArray(e.category)&&e.category.some(r=>r.value==="Repair Electrical")},{column:"defact",label:"Defact",filterText:"Defact",required:!0,visibleIf:e=>Array.isArray(e.category)&&e.category.some(r=>r.value==="Defact")},{column:"body",label:"Body ",filterText:"Body ",required:!0,visibleIf:e=>Array.isArray(e.category)&&e.category.some(r=>r.value==="Body")},{column:"comment",label:"Cause of damage",filterText:"Comment"},{column:"progress",label:"Progress",filterText:"Progress",visibleIf:e=>!1}],priority:["done","vehicle_type","plate_no"],hidden:["id","schedule"],toRemove:["customer","alt_location","username","createdAt","lastUpdated","vgtSelected"],exclude:["vehicle_type","plate_no","category"],merge:[],uneditable:["vehicle_type","plate_no"],dropdown:["tk_no","tk_no_spare"],multiselect:["category","engine_","drive_train","chasis","electrical_body","ac_system","repair_electrical","defact","body"],checkbox:["done","spare_exists","deleted"],date:[],datetime:["down_since","estimated_return"],number:["km"]}),n=t(JSON.parse(JSON.stringify(o.value)));n.value.uneditable.push("spare_exists","tk_no_spare","engine_","drive_train","chasis","electrical_body","ac_system","repair_electrical","defact","body");const a=t({});return y(()=>{o.value.columns.forEach(e=>{a.value[e.column]=e.default!==void 0?e.default:""}),a.value.username=i.username}),(e,r)=>(u(),m("div",null,[c.value.canInsert?(u(),p(h,{key:0,modelValue:a.value,"onUpdate:modelValue":r[0]||(r[0]=d=>a.value=d),fields:o.value,urls:s.value},null,8,["modelValue","fields","urls"])):v("",!0),g("div",A,[f(b,{settings:c.value,urls:s.value,fields:n.value,canInsert:!1,canUpdate:!0},null,8,["settings","urls","fields"])])]))}};export{N as default};
