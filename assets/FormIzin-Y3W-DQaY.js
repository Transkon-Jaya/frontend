import{_ as a,u as e,b as s,r as l,d as n,e as t,f as i,g as r,c as o,a as d,w as c,h as u,v as p,n as m,i as v,j as b,t as g,k,T as f,l as w,V as y,A as h,o as z,F as x,m as P,p as _,q as I,s as C,x as F}from"./index-5_BT3QSG.js";const S={class:"row"},L={class:"col-xl-6 mx-auto"},E={class:"card"},K={class:"card-body p-4"},M={class:"col-md-12"},U={class:"col-md-12"},j=["onClick"],B={class:"col-md-12"},D={key:0,class:"mt-3"},J=["src"],R={class:"col-md-12 mt-4 mb-3 d-flex gap-3"},T=a({__name:"FormIzin",setup(a){const T=e(),V=s(),q=h+"/perizinan",A=l({keterangan:"",izin:"",izinLabel:""}),N=new FormData,O=n(),G=n(null),H=a=>{G.value=a.target.files[0]};t((()=>A.password!==A.confirmPassword)),i((async()=>{try{const a=await r.get(q,{params:{username:T.username}});O.value=a.data[0]}catch(a){}}));const Q=()=>{A.keterangan="",A.izin="",A.izinLabel=""},W=async()=>{try{if(""==A.keterangan)return void alert("Keterangan Masih Kosong");if(""==A.izin)return void alert("Pilih Jenis Perizinan");if(!G.value)return void alert("Upload Foto Bukti");N.append("username",T.username),N.append("picture",G.value),N.append("keterangan",A.keterangan),N.append("izin",A.izin);const a=await r.post(q,N);I("RESPONSE : ",a.data),await C(),alert("Inserted successfully!")}catch(a){F("Submit error:",a),alert("Error updating profile.")}},X=[{value:"datang",label:"Datang terlambat"},{value:"pulang",label:"Pulang cepat"},{value:"tidak-masuk",label:"Tidak masuk"}],Y=n(!1);function Z(){Y.value=!Y.value}return(a,e)=>(z(),o("div",S,[d("div",L,[d("div",E,[e[6]||(e[6]=d("div",{class:"card-header px-4 py-3"},[d("h5",{class:"mb-0"},"Perizinan")],-1)),d("div",K,[d("form",{onSubmit:c(W,["prevent"]),class:"row g-3 needs-validation",novalidate:""},[d("div",M,[e[1]||(e[1]=d("label",{for:"keterangan",class:"form-label"},"Keterangan",-1)),u(d("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>A.keterangan=a),type:"text",class:"form-control",id:"keterangan"},null,512),[[p,A.keterangan]])]),d("div",U,[e[2]||(e[2]=d("label",{for:"izin",class:"form-label"},"Jenis Izin",-1)),d("div",{class:m(["dropdown",v(V).darkMode?"bg-dark text-white border-secondary":"bg-white text-dark border-secondary"])},[d("div",{class:"dropdown-selected",onClick:Z},g(A.izinLabel||"Pilih salah satu"),1),b(f,{name:"slide-fade"},{default:k((()=>[Y.value?(z(),o("div",{key:0,class:m(["dropdown-options border",v(V).darkMode?"bg-dark text-white border-secondary":"bg-white text-dark border-secondary"])},[(z(),o(x,null,P(X,(a=>d("div",{key:a.value,class:"dropdown-option",onClick:e=>function(a){A.izin=a.value,A.izinLabel=a.label,Y.value=!1}(a)},g(a.label),9,j))),64))],2)):w("",!0)])),_:1})],2)]),d("div",B,[e[3]||(e[3]=d("label",{for:"photo",class:"form-label"},"Upload Foto Bukti",-1)),d("input",{type:"file",class:"form-control",id:"photo",onChange:H,accept:"image/*"},null,32),a.previewImage?(z(),o("div",D,[d("img",{src:a.previewImage,alt:"Preview",class:"img-thumbnail",style:{"max-width":"200px"}},null,8,J)])):w("",!0)]),d("div",R,[b(y,{type:"submit",color:"danger",size:"md",block:!1},{default:k((()=>e[4]||(e[4]=[_(" Submit ")]))),_:1}),b(y,{type:"reset",class:"btn btn-secondary",onClick:Q},{default:k((()=>e[5]||(e[5]=[_(" Reset ")]))),_:1})])],32)])])])]))}},[["__scopeId","data-v-72310091"]]);export{T as default};
//# sourceMappingURL=FormIzin-Y3W-DQaY.js.map
