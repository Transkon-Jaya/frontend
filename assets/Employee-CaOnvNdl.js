import{u as m,r as t,A as i,o as y,c as _,m as p,n as v,a as g,d as f,g as n}from"./index-BhZNU2k6.js";/* empty css                                                                  */import{_ as b}from"./BigTable-Dn3esMip.js";import{M as h}from"./MiniForm-C12PIMyc.js";import"./xlsx-CibXJlkb.js";/* empty css                            */import"./vue-multiselect-CqB29SHT.js";/* empty css                                                 */const A={class:"card"},N={__name:"Employee",setup(T){const s=m(),o=t({title:"Down Equipment",size:[5,55,100],canInsert:!0,canUpdate:!0}),u=t({data:`${i}/users`,params:`?username=${encodeURIComponent(s.username)}`,dropdowns:{vehicle_type:{url:i+"/dropdowns/users",valueField:"name",column:"name"}},get:{vehicle_type:{url:i+"/get/vehicle_type",valueField:"vehicle_type",column:"vehicle_type"}}}),a=t({firstCol:{label:"TK Number",field:"tk_no",type:"type"},columns:[{column:"tk_no",label:"TK Number",filterText:"Filter TK",required:!0},{column:"vehicle_type",label:"Vehicle Type",filterText:"All Vehicle",autofill:{triggeredBy:"tk_no",url:"get/vehicle_type",getValue:e=>e[0]}},{column:"plate_no",label:"Plate Number",filterText:"All Plate No",autofill:{triggeredBy:"tk_no",url:"get/plate_no",getValue:e=>e[0]}},{column:"km",label:"Kilometer",filterText:"km",required:!0},{column:"down_since",label:"Down Since",filterText:"Down Since",required:!0},{column:"estimated_return",label:"Estimated Return"},{column:"spare_exists",label:"Unit Spare"},{column:"tk_no_spare",label:"TK NO Spare",filterText:"Filter TK",required:!0,visibleIf:e=>e.spare_exists===!0},{column:"category",label:"Category",filterText:"Category"},{column:"schedule",label:"Schedule",filterText:"Schedule",required:!0,visibleIf:e=>!1,compute:e=>(console.log("formdata ",e.category),console.log("some ",e.category.some(r=>r.value==="Schedule")),Array.isArray(e.category)&&e.category.some(r=>r.value==="Schedule"))},{column:"engine_",label:"Engine",filterText:"Engine",required:!0,visibleIf:e=>Array.isArray(e.category)&&e.category.some(r=>r.value==="Engine")},{column:"drive_train",label:"Drive Train",filterText:"Drive Train",required:!0,visibleIf:e=>Array.isArray(e.category)&&e.category.some(r=>r.value==="Drive Train")},{column:"chasis",label:"Chasis",filterText:"Chasis",required:!0,visibleIf:e=>Array.isArray(e.category)&&e.category.some(r=>r.value==="Chasis")},{column:"electrical_body",label:"Electrical Body",filterText:"Electrical Body",required:!0,visibleIf:e=>Array.isArray(e.category)&&e.category.some(r=>r.value==="Electrical Body")},{column:"ac_system",label:"AC System",filterText:"AC System",required:!0,visibleIf:e=>Array.isArray(e.category)&&e.category.some(r=>r.value==="AC System")},{column:"repair_electrical",label:"Repair Electrical",filterText:"Repair Electrical",required:!0,visibleIf:e=>Array.isArray(e.category)&&e.category.some(r=>r.value==="Repair Electrical")},{column:"defact",label:"Defact",filterText:"Defact",required:!0,visibleIf:e=>Array.isArray(e.category)&&e.category.some(r=>r.value==="Defact")},{column:"body",label:"Body ",filterText:"Body ",required:!0,visibleIf:e=>Array.isArray(e.category)&&e.category.some(r=>r.value==="Body")},{column:"comment",label:"Cause of damage",filterText:"Comment"},{column:"progress",label:"Progress",filterText:"Progress",visibleIf:e=>!1}],priority:["done","vehicle_type","plate_no"],hidden:["id","schedule"],toRemove:["customer","alt_location","username","createdAt","lastUpdated","vgtSelected"],exclude:["vehicle_type","plate_no","category"],merge:[],uneditable:["vehicle_type","plate_no"],dropdown:["tk_no","tk_no_spare"],multiselect:["category","engine_","drive_train","chasis","electrical_body","ac_system","repair_electrical","defact","body"],checkbox:["done","spare_exists","deleted"],date:[],datetime:["down_since","estimated_return"],number:["km"]}),c=t(JSON.parse(JSON.stringify(a.value)));c.value.uneditable.push("spare_exists","tk_no_spare","engine_","drive_train","chasis","electrical_body","ac_system","repair_electrical","defact","body");const l=t({});return y(()=>{a.value.columns.forEach(e=>{l.value[e.column]=e.default!==void 0?e.default:""}),l.value.username=s.username}),(e,r)=>(n(),_("div",null,[o.value.canInsert?(n(),p(h,{key:0,modelValue:l.value,"onUpdate:modelValue":r[0]||(r[0]=d=>l.value=d),fields:a.value,urls:u.value},null,8,["modelValue","fields","urls"])):v("",!0),g("div",A,[f(b,{settings:o.value,urls:u.value,fields:c.value,canInsert:!1,canUpdate:!0},null,8,["settings","urls","fields"])])]))}};export{N as default};
