import{_ as k,r as i,l as L,w as I,M as C,c as p,n as N,g as _,a as e,y as j,t as h,P as v,d as O,F as P,j as V}from"./index-K7Fjj5Ko.js";const $={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center"},A={class:"relative max-w-[90vw] max-h-[80vh] flex flex-col items-center bg-white p-4 rounded-lg"},E=["src"],B={class:"absolute top-4 left-4 text-white"},D={class:"text-lg font-semibold"},R={class:"text-sm"},S={class:"flex gap-4 mt-4 text-white"},T={__name:"ImageViewer",props:{images:Array,isOpen:Boolean,startIndex:Number},emits:["close"],setup(x,{emit:c}){const a=x,u=c,n=i(0),r=i(!1),l=i(!1);let t=null;const o=L(()=>{var s;return((s=a.images)==null?void 0:s[n.value])||{}});I(()=>a.startIndex,s=>{n.value=s??0},{immediate:!0}),I(()=>a.isOpen,s=>{s?window.addEventListener("keydown",y):(b(),window.removeEventListener("keydown",y))}),C(()=>{b(),window.removeEventListener("keydown",y)});const m=s=>{const d=s.target;l.value=d.naturalWidth>d.naturalHeight},g=()=>{n.value=(n.value+1)%a.images.length},w=()=>{n.value=(n.value-1+a.images.length)%a.images.length},f=()=>{r.value?b():(r.value=!0,t=setInterval(g,3e3))},b=()=>{clearInterval(t),t=null,r.value=!1},y=s=>{if(a.isOpen)switch(s.key){case"ArrowRight":g();break;case"ArrowLeft":w();break;case" ":s.preventDefault(),f();break;case"Escape":case"Delete":u("close");break}};return(s,d)=>x.isOpen?(_(),p("div",$,[e("div",A,[e("img",{src:o.value.url,onLoad:m,class:j([{"rotate-landscape":l.value},"max-w-full max-h-[70vh] object-contain transition-transform duration-300"])},null,42,E),e("div",B,[e("p",D,h(o.value.username),1),e("p",R,h(o.value.name),1)]),e("div",S,[e("button",{onClick:w,class:"px-4 py-1 bg-gray-700 rounded hover:bg-gray-600"},"Prev"),e("button",{onClick:f,class:"px-4 py-1 bg-gray-700 rounded hover:bg-gray-600"},h(r.value?"Pause":"Play"),1),e("button",{onClick:g,class:"px-4 py-1 bg-gray-700 rounded hover:bg-gray-600"},"Next")])]),e("div",{class:"absolute top-4 right-4 text-white text-3xl cursor-pointer",onClick:d[0]||(d[0]=G=>u("close"))}," Ã— ")])):N("",!0)}},J=k(T,[["__scopeId","data-v-bdd47bcb"]]),z={class:"container"},F={class:"gallery"},H=["onClick"],U=["src"],q={__name:"ImageViewerTest",setup(x){const c=i(!1),a=i(0),u=i([{url:v+"/absensi/Rosiman_IN_1746148802.jpg",username:"john_doe",name:"John Doe"},{url:v+"/absensi/Tj1023_IN_1746138582.jpg",username:"jane_smith",name:"Jane Smith"},{url:v+"/absensi/furqon_IN_1745814862.jpg",username:"alex_ray",name:"Alex Ray"},{url:v+"/absensi/admin-site_IN_1745288417.jpeg",username:"jane_smith",name:"Jane Smith"}]),n=l=>{a.value=l,c.value=!0},r=l=>{const t=new Image;return t.src=l,t.width>t.height};return(l,t)=>(_(),p("div",z,[t[1]||(t[1]=e("h2",null,"Gallery",-1)),e("div",F,[(_(!0),p(P,null,V(u.value,(o,m)=>(_(),p("div",{key:m,class:"thumb-container",onClick:g=>n(m)},[e("img",{src:o.url,class:j(["thumb",{"rotate-landscape":r(o.url)}])},null,10,U),e("p",null,h(o.username),1)],8,H))),128))]),O(J,{images:u.value,isOpen:c.value,startIndex:a.value,onClose:t[0]||(t[0]=o=>c.value=!1)},null,8,["images","isOpen","startIndex"])]))}},M=k(q,[["__scopeId","data-v-082064c3"]]);export{M as default};
