import{_,u as g,n as h,r as l,A as r,o as R,c as y,a as t,h as w,d as S,b as x,v as k,B as d,g as I}from"./index-0SadCTHd.js";import{_ as U}from"./BigTable-DzwWi5W0.js";import"./vue-good-table.esm-BuFIRBJC.js";/* empty css                            */import"./vue-multiselect-BDwC6Kpw.js";import"./xlsx-D1NZSDnX.js";import"./logger-DsocdAuK.js";/* empty css                                                 */const N={class:"container-global mb-4"},T={class:"card mb-4"},$={class:"p-3 border-bottom bg-light"},B={class:"row align-items-end"},C={class:"col-md-3"},M={__name:"SamplingRecap",setup(A){const m=g(),i=h(()=>{var e;return((e=m.user)==null?void 0:e.id_company)||0}),s=l(new Date().toISOString().slice(0,7)),o=l(null),c=l({data:`${r}/absensi-summary?month=${s.value}`}),p=l({title:"",export:"Sampling Recap",styleClass:"",size:[10,30,100]}),u=l({firstCol:{label:"USERNAME",field:"NIK",type:"type",width:100},priority:["NIK","name","lokasi","jabatan","department","Kepeg"],unpriority:["lastUpdated"],hidden:[],toRemove:["filterable"],exclude:["filterable"],uneditable:[],checkbox:["spare_exists"],date:[],datetime:[],columns:[{column:"name",width:120},{column:"lokasi",width:120},{column:"jabatan",width:180},{column:"department",width:180}]}),n=()=>{let e=`${r}/absensi-summary?month=${s.value}`;i.value!==0&&(e+=`&company_id=${i.value}`),c.value.data=e},b=async()=>{var e,a;n(),await d(),(a=(e=o.value)==null?void 0:e.refresh)==null||a.call(e)},f=async()=>{var e,a;s.value=new Date().toISOString().slice(0,7),n(),await d(),(a=(e=o.value)==null?void 0:e.refresh)==null||a.call(e)};return R(()=>{n()}),(e,a)=>(I(),y("div",N,[a[2]||(a[2]=t("div",{class:"d-flex justify-content-between align-items-center mb-2"},[t("h1",{class:"h3 fw-bold mb-0"},[t("i",{class:"bi bi-table me-2"}),w(" Sampling Recap ")])],-1)),t("div",T,[t("div",$,[t("div",B,[t("div",C,[a[1]||(a[1]=t("label",{class:"form-label"},"Select Month",-1)),x(t("input",{type:"month",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=v=>s.value=v)},null,512),[[k,s.value]])]),t("div",{class:"col-md-1"},[t("button",{class:"btn btn-primary w-100",onClick:b}," Filter ")]),t("div",{class:"col-md-1"},[t("button",{class:"btn btn-danger w-100",onClick:f}," Reset ")])])]),S(U,{ref_key:"bigTableRefRecap",ref:o,settings:p.value,urls:c.value,fields:u.value,canInsert:!1,canUpdate:!1},null,8,["settings","urls","fields"])])]))}},L=_(M,[["__scopeId","data-v-421d2fdd"]]);export{L as default};
