import{u as e,r as l,A as r,o as a,c as t,E as i,m as o,a as c,d as s,g as n}from"./index-ymcskxsK.js";/* empty css                                                                  */import{_ as u}from"./BigTable-DnB_oljX.js";import{M as d}from"./MiniForm-C4PHhRJu.js";import"./xlsx-nBpVFcdQ.js";import"./vue-multiselect-K0gAGM40.js";const _={class:"card"},y={__name:"AdminFormDe",setup(y){const m=e(),p=l({title:"Down Equipment",size:[5,55,100],canInsert:!0,canUpdate:!0}),v=l({data:`${r}/de_site`,params:`?username=${encodeURIComponent(m.username)}`,dropdowns:{vehicle_type:{url:r+"/dropdowns/vehicle_type",valueField:"vehicle_type",column:"vehicle_type"},tk_no:{url:r+"/dropdowns/tk_no",valueField:"tk_no",column:"tk_no"},tk_no_spare:{url:r+"/dropdowns/tk_no",valueField:"tk_no",column:"tk_no"},category:{url:r+"/dropdowns/op_svc_category",valueField:"category",column:"category"},engine_:{url:r+"/dropdowns/op_svc_category_engine",valueField:"engine_",column:"engine_"},drive_train:{url:r+"/dropdowns/op_svc_category_driveTrain",valueField:"drive_train",column:"drive_train"},chasis:{url:r+"/dropdowns/op_svc_category_chasis",valueField:"chasis",column:"chasis"},electrical_body:{url:r+"/dropdowns/op_svc_category_electricalBody",valueField:"electrical_body",column:"electrical_body"},ac_system:{url:r+"/dropdowns/op_svc_category_acSystem",valueField:"ac_system",column:"ac_system"},repair_electrical:{url:r+"/dropdowns/op_svc_category_repairElectrical",valueField:"repair_electrical",column:"repair_electrical"},defact:{url:r+"/dropdowns/op_svc_category_defact",valueField:"defact",column:"defact"},body:{url:r+"/dropdowns/op_svc_category_body",valueField:"body",column:"body"}},get:{vehicle_type:{url:r+"/get/vehicle_type",valueField:"vehicle_type",column:"vehicle_type"}}}),g=l({firstCol:{label:"TK Number",field:"tk_no",type:"type"},columns:[{column:"tk_no",label:"TK Number",filterText:"Filter TK",required:!0},{column:"vehicle_type",label:"Vehicle Type",filterText:"All Vehicle",autofill:{triggeredBy:"tk_no",url:"get/vehicle_type",getValue:e=>e[0]}},{column:"plate_no",label:"Plate Number",filterText:"All Plate No",autofill:{triggeredBy:"tk_no",url:"get/plate_no",getValue:e=>e[0]}},{column:"km",label:"Kilometer",filterText:"km",required:!0},{column:"down_since",label:"Down Since",filterText:"Down Since",required:!0},{column:"estimated_return",label:"Estimated Return"},{column:"spare_exists",label:"Unit Spare"},{column:"tk_no_spare",label:"TK NO Spare",filterText:"Filter TK",required:!0,visibleIf:e=>!0===e.spare_exists},{column:"category",label:"Category",filterText:"Category"},{column:"schedule",label:"Schedule",filterText:"Schedule",required:!0,visibleIf:e=>!1,compute:e=>Array.isArray(e.category)&&e.category.some((e=>"Schedule"===e.value))},{column:"engine_",label:"Engine",filterText:"Engine",required:!0,visibleIf:e=>Array.isArray(e.category)&&e.category.some((e=>"Engine"===e.value))},{column:"drive_train",label:"Drive Train",filterText:"Drive Train",required:!0,visibleIf:e=>Array.isArray(e.category)&&e.category.some((e=>"Drive Train"===e.value))},{column:"chasis",label:"Chasis",filterText:"Chasis",required:!0,visibleIf:e=>Array.isArray(e.category)&&e.category.some((e=>"Chasis"===e.value))},{column:"electrical_body",label:"Electrical Body",filterText:"Electrical Body",required:!0,visibleIf:e=>Array.isArray(e.category)&&e.category.some((e=>"Electrical Body"===e.value))},{column:"ac_system",label:"AC System",filterText:"AC System",required:!0,visibleIf:e=>Array.isArray(e.category)&&e.category.some((e=>"AC System"===e.value))},{column:"repair_electrical",label:"Repair Electrical",filterText:"Repair Electrical",required:!0,visibleIf:e=>Array.isArray(e.category)&&e.category.some((e=>"Repair Electrical"===e.value))},{column:"defact",label:"Defact",filterText:"Defact",required:!0,visibleIf:e=>Array.isArray(e.category)&&e.category.some((e=>"Defact"===e.value))},{column:"body",label:"Body ",filterText:"Body ",required:!0,visibleIf:e=>Array.isArray(e.category)&&e.category.some((e=>"Body"===e.value))},{column:"comment",label:"Cause of damage",filterText:"Comment"},{column:"progress",label:"Progress",filterText:"Progress",visibleIf:e=>!1}],priority:["done","vehicle_type","plate_no"],hidden:["id","schedule"],toRemove:["customer","alt_location","username","createdAt","lastUpdated","vgtSelected"],exclude:["vehicle_type","plate_no","category"],merge:[],uneditable:["vehicle_type","plate_no"],dropdown:["tk_no","tk_no_spare"],multiselect:["category","engine_","drive_train","chasis","electrical_body","ac_system","repair_electrical","defact","body"],checkbox:["done","spare_exists","deleted"],date:[],datetime:["down_since","estimated_return"],number:["km"]}),f=l(JSON.parse(JSON.stringify(g.value)));f.value.uneditable.push("spare_exists","tk_no_spare","engine_","drive_train","chasis","electrical_body","ac_system","repair_electrical","defact","body");const b=l({});return a((()=>{g.value.columns.forEach((e=>{b.value[e.column]=void 0!==e.default?e.default:""})),b.value.username=m.username})),(e,l)=>(n(),t("div",null,[p.value.canInsert?(n(),i(d,{key:0,modelValue:b.value,"onUpdate:modelValue":l[0]||(l[0]=e=>b.value=e),fields:g.value,urls:v.value},null,8,["modelValue","fields","urls"])):o("",!0),c("div",_,[s(u,{settings:p.value,urls:v.value,fields:f.value,canInsert:!1,canUpdate:!0},null,8,["settings","urls","fields"])])]))}};export{y as default};
//# sourceMappingURL=AdminFormDe-CpaPu7L7.js.map
