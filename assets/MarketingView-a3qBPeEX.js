import{r as a,p as e,o as l,c as o,a as t,d as s,m as n,b as r,v as i,z as u,t as c,q as d,g as p}from"./index-C57kw19F.js";import{V as m,u as v,w as b}from"./xlsx-Bzg_cIzL.js";const g={class:"actions"},h={key:0},k={key:1,class:"error"},w={__name:"MarketingView",setup(w){const _=a([]),f=a(!0),x=a(null),C=a(""),y=a(20);a(1),e((()=>_.value.length));const D=e((()=>C.value?_.value.filter((a=>a.name_customer.toLowerCase().includes(C.value.toLowerCase()))):_.value)),L=()=>{const a=v.json_to_sheet(_.value),e=v.book_new();v.book_append_sheet(e,a,"Marketing Data"),b(e,"MarketingData.xlsx")};return l((async()=>{try{const a=await d.get("https://www.transkon-rent.com/api/marketing");_.value=a.data}catch(a){x.value="Failed to load data"}finally{f.value=!1}})),(a,e)=>(p(),o("div",null,[e[1]||(e[1]=t("h2",null,"Marketing Data",-1)),t("div",g,[r(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>C.value=a),placeholder:"Search Customer Name..."},null,512),[[i,C.value]]),t("button",{onClick:L},"Export to Excel")]),s(u(m),{columns:[{label:"ID",field:"id",sortable:!0},{label:"Customer Name",field:"name_customer",sortable:!0},{label:"Location",field:"location",sortable:!0}],rows:D.value,"pagination-options":{enabled:!0,mode:"pages",perPage:y.value},"search-options":{enabled:!0,placeholder:"Search table"},"sort-options":{enabled:!0}},null,8,["rows","pagination-options"]),f.value?(p(),o("p",h,"Loading...")):n("",!0),x.value?(p(),o("p",k,c(x.value),1)):n("",!0)]))}};export{w as default};
//# sourceMappingURL=MarketingView-a3qBPeEX.js.map
